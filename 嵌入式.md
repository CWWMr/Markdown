---


---

<h1 id="开发"><span class="prefix"></span><span class="content">开发</span><span class="suffix"></span></h1>
<h2 id="配置时钟"><span class="prefix"></span><span class="content">配置时钟</span><span class="suffix"></span></h2>
<h2 id="配置gpio，uart等相关配置"><span class="prefix"></span><span class="content">配置GPIO，UART等相关配置</span><span class="suffix"></span></h2>
<h2 id="生成工程"><span class="prefix"></span><span class="content">生成工程</span><span class="suffix"></span></h2>
<h2 id="编辑代码开发"><span class="prefix"></span><span class="content">编辑代码开发</span><span class="suffix"></span></h2>
<h3 id="flashdown程序下载"><span class="prefix"></span><span class="content">flashdown程序下载</span><span class="suffix"></span></h3>
<h3 id="串口发送接收"><span class="prefix"></span><span class="content">串口发送接收</span><span class="suffix"></span></h3>
<hr>
<ul>
<li>
<p>同步发送接收</p>
<ul>
<li>接收返回值OK、BUSY…</li>
<li>对方发多少，并知道时间</li>
</ul>
</li>
<li>
<p>中断接收Receive_IT()</p>
<ul>
<li>
<p>接收到一个之后直接进中断,开始接收，收完成以后告诉我</p>
<blockquote>
<p>什么时候接收完成？接收完成之后会进行回调（<em>多个中断调用一个回调函数，需要先进行判断</em>）</p>
<p>weak 弱函数，用户定义后进行覆盖</p>
<p>volatile 全局变量，取最新值而非缓存值</p>
</blockquote>
</li>
<li>
<p>使能USART1的中断NVIC</p>
</li>
</ul>
<blockquote>
<p>call HAL hangdler(直接写回调函数就行)</p>
<p>系统级中断函数stm32f1xx_it.c</p>
</blockquote>
</li>
<li>
<p>DMA接收receive_DMA()</p>
<blockquote>
<p>直接存储访问，存储完成后通知CPU就行，不会每次都进入中断</p>
<p>配置UART MDA中断接收</p>
<p><strong>基本和中断接收一样，都是进入中断之后调用中断回调函数，通知CPU接收数据完毕</strong></p>
</blockquote>
</li>
<li>
<p>IDLE接收receive_IDLE()</p>
<blockquote>
<p>接收长度不可知，变长接收</p>
<p>空闲检测，通过中断告知，可以对已经接收的数据就行处理或者不进行处理</p>
</blockquote>
</li>
</ul>
<h4 id="晶振的选择一般选择外部晶振"><span class="prefix"></span><span class="content">晶振的选择一般选择外部晶振</span><span class="suffix"></span></h4>
<h1 id="日志系统"><span class="prefix"></span><span class="content">日志系统</span><span class="suffix"></span></h1>
<h2 id="故障异常信息收集"><span class="prefix"></span><span class="content">故障异常信息收集</span><span class="suffix"></span></h2>
<p>存储系统运行信息</p>
<h3 id="printf"><span class="prefix"></span><span class="content">printf()</span><span class="suffix"></span></h3>
<blockquote>
<p>配置keil</p>
<p>包含头文件</p>
<p>编写重定向函数fputc()</p>
</blockquote>
<p><img alt="image-20251113204458001" src=""></p>

